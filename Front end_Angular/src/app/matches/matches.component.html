<a class ="home" routerLink = '/'> Home Page</a>

<div class="container">
    <p style="color:purple;  font-weight: bold; font-size: 30px; padding-bottom: 20px;">Matches</p>
    <table class="styled-table">
        <thead>
            <tr>
                <th scope="col">Venue</th>
                <th scope="col">Data & Time</th>
                <th scope="col"></th>
                <th scope="col">Edit</th>
            </tr>
        </thead>
        <tbody>
                <tr class="active-row"*ngFor="let match of allMatches">
                    <td>{{match.venue_id}}</td>
                    <td>{{match.match_date}}</td>
                    <td><a [routerLink]="['/match', match.ID]">View Match Details</a></td>
                    <td><button (click)="editMatch(match.ID)" class="button button1">Edit</button> </td>
                </tr>
        </tbody>
    </table>
      
    <br>
    <form *ngIf="isEdit" id ="formm"#myForm="ngForm">

        
        <div  class="form-group">
            <label for="exampleInputEmail1">Match Venue</label>
            <select  type="number"value="11" [(ngModel)]="matchObject.MatchVenue" name="MatchVenue"  >
                <option hidden selected>Select one...</option>
                <option *ngFor="let staduim of allVenues" [ngValue]="staduim.ID" [selected]="staduim.shape == venueselected">{{staduim.shape}}</option>
            </select>
          
        </div>

        <div *ngIf="isEdit" class="form-group">
            <label for="exampleInputPassword1">Date</label>
            <input id="date" type="date" min="2021-01-20" max="2021-05-20" name="Date" [(ngModel)]="matchObject.Date" />
        </div>
        <div *ngIf="isEdit" class="form-group">
            <label for="exampleInputPassword1">Time</label>
            <input id="time" type="time" name="Time" [(ngModel)]="matchObject.Time" />
        </div>


        <div class="form-group">
            <label for="exampleInputEmail1">Home Team</label>
            <select *ngIf="isEdit" type="number" [(ngModel)]="matchObject.HomeTeam" name="HomeTeam"  (change)="selected1()">
                <option id="Hometeam"*ngFor="let t of allTeams" [ngValue]="t.ID" [selected]="t.team_name == hometselected">{{t.team_name}}</option>
            </select>
        </div>

        <div *ngIf="!isEdit" class="form-group">
            <label for="exampleInputEmail1">Away Team</label>
            <select type="number" [(ngModel)]="matchObject.AwayTeam" name="AwayTeam" >
                <option hidden selected>Select Away team</option>
                <option *ngFor="let t of listTeamsAway"  [ngValue]="t.ID" [selected]="t.team_name == awaytselected">{{t.team_name}}</option>
            </select>
        </div>

        <div *ngIf="isEdit" class="form-group">
            <label for="exampleInputEmail1">Away Team</label>
            <select type="number" [(ngModel)]="matchObject.AwayTeam" name="AwayTeam" >
                <option hidden selected>Select Away team</option>
                <option *ngFor="let t of allTeams"  [ngValue]="t.ID" [selected]="t.team_name == awaytselected">{{t.team_name}}</option>
            </select>
        </div>

        
        <div class="form-group">
            <label for="exampleInputPassword1">MainReferee</label>
            <select *ngIf="isEdit" type="number" [(ngModel)]="matchObject.MainReferee" name="MainReferee" >
                <option hidden selected>Select MainReferee</option>
                <option *ngFor="let t of allmainReferee"  [ngValue]="t.ID" [selected]="t.first_name == mainrefselected">{{t.first_name }}</option>
            </select>
        </div>
    
        <div class="form-group">
            <label for="exampleInputPassword1">Linesman1</label>
            <select *ngIf="isEdit" type="number" [(ngModel)]="matchObject.line" name="line" >
                <option hidden selected>Select Linesman 1</option>
                <option *ngFor="let t of alllinesReferee"  [ngValue]="t.ID" [selected]="t.first_name == lines1selected">{{t.first_name }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="exampleInputPassword1">Linesman2</label>
            <select *ngIf="isEdit" type="number" [(ngModel)]="matchObject.line2" name="line2" >
                <option hidden selected>Select Linesman 2</option>
                <option *ngFor="let t of alllinesReferee2"  [ngValue]="t.ID" [selected]="t.first_name == lines2selectede">{{t.first_name }}</option>
            </select>
        </div>
        
        <button class ="button" type="button"  *ngIf="isEdit" (click)="updateMatch(myForm,myForm.value)">Edit</button>

    </form>
</div>

